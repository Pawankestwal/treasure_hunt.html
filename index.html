<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pirate Chest & Old Messenger Scroll</title>
<style>
  :root{
    --gold:#ffdf6b;
  }
  body{
    margin:0;
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background:
      radial-gradient(1200px 600px at 50% 30%, rgba(255,231,153,.15), transparent 70%),
      radial-gradient(circle at 50% 120%, #0a0a0a 0%, #0b0f1a 50%, #000 100%);
    overflow:hidden;
    font-family: Georgia, serif;
  }
  .particles, .particles::before, .particles::after{
    position:absolute; inset:0; content:"";
    background-image:
      radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.12), transparent 60%),
      radial-gradient(2px 2px at 70% 10%, rgba(255,255,255,.08), transparent 60%),
      radial-gradient(2px 2px at 40% 70%, rgba(255,255,255,.1), transparent 60%);
    animation: drift 20s linear infinite;
    pointer-events:none;
  }
  .particles::before{ animation-duration: 26s; opacity:.6; }
  .particles::after{ animation-duration: 32s; opacity:.4; }
  @keyframes drift{ from{transform:translateY(0)} to{transform:translateY(-80px)} }

  .stage{
    position:relative;
    width: min(700px, 95vw);
    height: min(600px, 90vh);
    display:flex;
    align-items:flex-end;
    justify-content:center;
  }

  /* chest */
  .chest{
    --w:260px;
    width:var(--w); height:180px;
    position:relative;
    cursor:pointer;
    filter: drop-shadow(0 18px 30px rgba(0,0,0,.6));
  }
  .chest:active{ transform: scale(.97); }
  .box{
    position:absolute; bottom:0; left:0; right:0; height:120px;
    border-radius:10px;
    background:linear-gradient(#5a3318,#854c26);
    border:4px solid #3b2311;
  }
  .lid{
    position:absolute; bottom:120px; left:0; right:0; height:80px;
    border-radius:12px 12px 0 0;
    background:linear-gradient(#5a3318,#854c26);
    border:4px solid #3b2311; border-bottom:none;
    transform-origin: bottom center;
    transition: transform .6s cubic-bezier(.2,.8,.2,1);
  }
  .glow{
    position:absolute; left:50%; bottom:120px; transform:translateX(-50%);
    width:200px; height:110px; border-radius:50%;
    background: radial-gradient(circle, rgba(255,223,107,.5), transparent 70%);
    opacity:0; pointer-events:none;
    transition: opacity .4s ease;
  }
  .chest.open .glow{ opacity:1 }

  /* scroll */
  .scroll{
    position:absolute; bottom:200px; left:50%; transform:translateX(-50%) scale(.85);
    width:min(420px,90vw); height:0;
    padding:0 24px; opacity:0; overflow:hidden;
    transition: transform .5s ease, opacity .5s ease, height .6s ease;
    z-index:3;
  }
  .scroll-inner{
    background:linear-gradient(#f7e5b7,#e2c98f);
    border:2px solid #b48a3b;
    border-radius:8px;
    padding:20px;
    box-shadow:0 6px 16px rgba(0,0,0,.5);
  }
  .rod{
    position:absolute; left:50%; transform:translateX(-50%);
    width:calc(100% + 40px); height:20px;
    background:#8c5a2d; border-radius:12px;
  }
  .rod.top{ top:-14px } .rod.bottom{ bottom:-14px }

  .scroll.show{ opacity:1; transform:translateX(-50%) translateY(-40px) scale(1); }
  .scroll.unroll{ height:200px; }

  .riddle{ font-size:clamp(16px,2vw,20px); }
  .caret{ display:inline-block; width:8px; animation:blink 1s steps(1) infinite; }
  @keyframes blink{50%{opacity:0}}
</style>
</head>
<body>
<div class="particles"></div>
<div class="stage">
  <div class="chest" id="chest">
    <div class="lid" id="lid"></div>
    <div class="box"></div>
    <div class="glow"></div>
  </div>
  <div class="scroll" id="scroll">
    <div class="rod top"></div>
    <div class="scroll-inner"><div class="riddle" id="riddle"></div></div>
    <div class="rod bottom"></div>
  </div>
</div>
<script>
  const chest=document.getElementById('chest');
  const lid=document.getElementById('lid');
  const scroll=document.getElementById('scroll');
  const riddleBox=document.getElementById('riddle');
  const text="I speak without a mouth and hear without ears. I have nobody, yet I come alive with wind. What am I?";
  let open=false, timer=null;
  function type(txt){
    clearInterval(timer);
    riddleBox.textContent="";
    const caret=document.createElement('span');
    caret.className='caret'; caret.textContent='|';
    riddleBox.appendChild(caret);
    let i=0;
    timer=setInterval(()=>{
      if(i<txt.length) caret.insertAdjacentText('beforebegin',txt[i++]);
      else clearInterval(timer);
    },35);
  }
  function clear(){ clearInterval(timer); riddleBox.textContent=""; }
  chest.addEventListener('click',async()=>{
    if(!open){
      open=true;
      chest.classList.add('open');
      lid.style.transform="rotateX(150deg)";
      setTimeout(()=>{ scroll.classList.add('show'); },300);
      setTimeout(()=>{ scroll.classList.add('unroll'); type(text); },800);
    }else{
      open=false;
      clear();
      scroll.classList.remove('unroll');
      setTimeout(()=>{ scroll.classList.remove('show'); },400);
      setTimeout(()=>{ lid.style.transform="rotateX(0deg)"; chest.classList.remove('open'); },700);
    }
  });
</script>
</body>
</html>
